<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Developer Introduction - OS.js Documentation</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="description" content="OS.js -- Developer Introduction" />
    <meta name="keywords" content="OS.js,Documentation,Client,Server,API,Tutorial,Tutorials,Manual,Manuals" />
    <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <link rel="apple-touch-icon-precomposed" href="/favicon.png" />
    <link rel="author" href="https://plus.google.com/101576798387217383063" />
    <link rel="publisher" href="https://plus.google.com/101576798387217383063" />

    <script type="text/javascript">
      if ( window.location.hostname === 'andersevenrud.github.io' ) {
        window.location = '//os.js.org' + window.location.pathname.replace(/\/OS\.js-v2/, '');
      }
      if ( window.location.hostname === 'os.js.org' && window.location.protocol !== 'https:' ) {
        window.location.protocol = 'https:';
      }
    </script>

    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Source+Sans+Pro" />
    <link rel="stylesheet" type="text/css" href="//cdn.rawgit.com/google/code-prettify/master/styles/sunburst.css" />
    <link href="/stylesheets/codex.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <header>
      <img alt="" src="/images/doc/logo.png" />
      <ul>
        <li><a href="/doc/">Index</a></li>
        <li><a href="/doc/client/">Client API</a></li>
        <li><a href="/doc/server/">Server API</a></li>
        <li><a href="/doc/manuals/">Manuals</a></li>
        <li><a href="/doc/tutorials/">Tutorials</a></li>
      </ul>
    </header>

    <nav>
      <h2>Index</h2>

      <b>General</b>
      <ul>
        <li><a href="man-install.html">Installing OS.js</a></li>
        <li><a href="man-configuration.html">Configuring and building</a></li>
        <li><a href="man-build-grunt.html">Build system and Grunt</a></li>
      </ul>

      <b>Development</b>
      <ul>
        <li><a href="man-development.html">Development introduction</a></li>
        <li><a href="man-permissions.html">Setting up permissions</a></li>
      </ul>

      <b>Additions</b>
      <ul>
        <li><a href="man-google-api.html">Adding Google (GoogleDrive) support</a></li>
        <li><a href="man-windows-live-api.html">Adding MS Live (OneDrive) support</a></li>
        <li><a href="man-dropbox.html">Adding Dropbox support</a></li>
        <li><a href="man-mountpoints.html">Adding folders to VFS</a></li>
        <li><a href="man-zip.html">Adding ZIP-file support</a></li>
        <li><a href="man-thirdparty.html">Adding third-party libraries</a></li>
        <li><a href="man-multiuser.html">Multi-user and authentication</a></li>
        <li><a href="man-broadway.html">Broadway (GTK3 streaming)</a></li>
        <li><a href="man-package-manager.html">Managing packages/applications</a></li>
      </ul>

      <b>Application Docs</b>
      <ul>
        <li><a href="app-corewm.html">CoreWM</a></li>
        <li><a href="app-filemanager.html">File Manager</a></li>
      </ul>

      <b>Package Types</b>
      <ul>
        <li><a href="package-normal.html">Application</a></li>
        <li><a href="package-extension.html">Extension</a></li>
        <li><a href="package-service.html">Service</a></li>
      </ul>


    </nav>


    <content>

<h1>Developer Introduction</h1>
<p>
  This is an introduction to OS.js development. It assumes that you have at least some experience with common web technologies and common tools, like HTML, CSS, JavaScript, Grunt, LESS and Git.
</p>
<ul>
  <li><a href="#section-codebase">Codebase</a></li>
  <li><a href="#section-env">Setting up a developer environment</a></li>
  <li><a href="#section-tools">Developer tools</a></li>
  <li><a href="#section-contribute">How to contribute</a></li>
  <li><a href="#section-package">Creating a package</a></li>
</ul>

<h2 id="section-codebase">Codebase</h2>
<p>
  Everything is written in HTML5, CSS3 and ES5 (Strict). All source files are separated in <i>src/</i>.
</p>
<pre>src/client/javascript             # Client JavaScript
src/client/stylesheets            # Client Stylesheets
src/client/themes                 # Client theme resources
src/server/node                   # Server code
src/packages                      # Package sources (applications)
src/build                         # Build system
src/conf                          # Configuration files
src/templates                     # Templates for the build system
src/gfx                           # Graphic sources
src/build.js                      # Build system codebase
Gruntfile.js                      # Build system setup
vendor                            # Third party libraries etc.
vfs                               # Default file storage paths (for users)
bin                               # General scripts
doc                               # General documentation
dist                              # Production build output
dist-dev                          # Development environment</pre>

<h2 id="section-env">Setting up a developer environment</h2>
<p>
  Setting up a developer environment is mostly the same as setting up a production instance, only with a couple of more dependencies.
</p>
<pre class="code"># Clone OS.js
$ git clone https://github.com/your-username/OS.js.git
$ cd OS.js

# Install all dependencies and extra testing suite
$ npm install
$ npm install -g mocha

# Build everything
$ grunt

# Optionally run watch to automatically rebuild client files upon changes.
$ grunt watch

# Optionally install the node supervisor to automaticall restart server upon changes.
$ npm install -g supervisor

# Start server
$ ./bin/start-dev.sh</pre>

<h2 id="section-tools">Developer tools</h2>
<p>
  All the tools you need are provided as Grunt commands. Your browser developer tools and/or IDE is all you need.
</p>
<h3>Relevant information</h3>
<ul>
  <li><a href="/doc/manuals/man-configuration.html">Configuring and building</a></li>
  <li><a href="/doc/manuals/man-build-grunt.html">Build system and Grunt</a></li>
</ul>

<h2 id="section-contribute">How to contribute and publish changes or additions</h2>
<p>
  Everything is done with <i>Git</i> and <i>Github</i>. All changes should be submitted via a custom branch.
</p>
<ul>
  <li>First, you have to create a new <a href="https://github.com/">Github</a> account.</li>
  <li>Then proceed to <a href="https://github.com/os-js/OS.js#fork-destination-box">fork OS.js</a> to make a copy to your account.</li>
  <li>Set up a developer environment described above, but change the repository URL to the fork you made.</li>
  <li>Now you can make changes and publish them to the main repository for addition.</li>
</ul>
<p>
   Follow the instructions below:
</p>
<pre class="code"># Create a new branch
# You can name the branch `issue-XXX` if you have an open issue for your planned changes.
# Or if not, something like `translate-LANG`, `feature-X` or `bugfix-Y`
$ git checkout -b issue-XXX

# Make modifications
$ edit src/client/javascript/init.js

# Rebuild everything
$ grunt

# Run tests
$ grunt test

# Commit and push changes
$ git add src/client/javascript/init.js
$ git commit -m "API: Fix exception on init when connection is lost"
$ git push origin issue-XXX</pre>
<p>
  Now go to the OS.js repository <a href="https://github.com/os-js/OS.js/pulls">pull request page</a>. Find your branch and press "Create pull request". Fill in the details and submit. It will be looked at ASAP.
</p>
<h3>Style guide</h3>
<ul>
  <li>Use <b>UTF-8</b> encoding for all files with text.</li>
  <li>Use <b>2 space</b> for indentation.</li>
  <li>Write <a href="https://github.com/erlang/otp/wiki/writing-good-commit-messages">good commit messages</a>.</li>
  <li>Look at the codebase for a general feel for the code style</li>
</ul>

<h2 id="section-package">Creating a new application (package)</h2>
<p>
  Using <i>Grunt</i> you can create packages from many templates, including boilerplate applications. Simply run:
</p>
<pre class="code"># Create from normal application template
$ grunt generate:package --name=repository/ApplicationName

# You can also create a simpler default application
$ grunt generate:package --name=repository/ApplicationName --type=simple

# Install and build package
# This is also the command you can run to rebuild after you make changes
$ grunt build:manifest build:config build:package --name=repository/ApplicationName
</pre>
<p>
  See <a href="/doc/tutorials/">the tutorial section</a> for more information about different types of packages.
</p>
<p>
  You'll end up with a new directory inside <i>src/packages</i> with the path you entered. A package usually consists of these files:
</p>
<div class="indent">
  <h3>main.js</h3>
  <p>
    The client-side package script.
  </p>
  <h3>main.css</h3>
  <p>
    The client-side package stylesheet.
  </p>
  <h3>scheme.html</h3>
  <p>
    The client-side application markup. This is regular HTML, but it is parsed with custom OS.js tags in mind.
  </p>
  <h3>api.js</h3>
  <p>
    Server-side API script
  </p>
  <h3>metadata.json</h3>
  <p>
    <a href="/doc/manuals/package-normal.html">Metadata</a> about the package. Can also contain custom stuff like settings and options for use in your applications.
  </p>
</div>


      <div class="adddshere">
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <!-- https://os.js.org (RESPONSIVE) -->
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-6145716264521226"
             data-ad-slot="9888011596"
             data-ad-format="auto"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      </div>


    </content>


    <footer>
      <img alt="" src="/images/logo-footer.png" />
      <p>
        OS.js &copy; Anders Evenrud 2011-2016
        <br />
        Hosting by Github
      </p>
    </footer>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-46087265-1', 'auto');
      ga('require', 'linkid');
      ga('send', 'pageview');
    </script>


    <script>
      ((window.gitter = {}).chat = {}).options = {
        room: 'os-js/OS.js'
      };
    </script>
    <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>


<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>

  </body>
</html>
