<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Tutorial - Create your own Extension | OS.js Documentation</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="description" content="OS.js -- Tutorial - Create your own Extension" />
    <meta name="keywords" content="OS.js,Documentation,Client,Server,API,Tutorial,Tutorials,Manual,Manuals" />
    <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <link rel="apple-touch-icon-precomposed" href="/favicon.png" />
    <link rel="author" href="https://plus.google.com/101576798387217383063" />
    <link rel="publisher" href="https://plus.google.com/101576798387217383063" />

    <script type="text/javascript">
      if ( window.location.hostname === 'andersevenrud.github.io' ) {
        window.location = '//os.js.org' + window.location.pathname.replace(/\/OS\.js-v2/, '');
      }
    </script>

    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Source+Sans+Pro" />
    <link href="/stylesheets/doc.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <header>
      <h1>%TITLE%</h1>
      <ul>
        <li><a href="/doc/">Index</a></li>
        <li><a href="/doc/client/">Client API</a></li>
        <li><a href="/doc/server/">Server API</a></li>
        <li><a href="/doc/manuals/">Manuals</a></li>
        <li><a href="/doc/tutorials/">Tutorials</a></li>
      </ul>
    </header>

    <main>

      <h1>Tutorial: Create your own Extension</h1>
      <p>
        An <b>Extension</b> allows you to hook into, extend, add and modify the Core OS.js features. It works sort of like a "plugin".
      </p>
      <p>
        Very usefull if you want to create new features in OS.js without touching the main codebase. An example of this would be new Dialogs, VFS and API methods, more Utils and such.
      </p>

      <h2>Create from template</h2>
      <div class="indent">
        <p>Simply run:</p>

        <pre>grunt create-package:default/MyName:extension</pre>
        <p>
          The "default" is the name of the repository folder you want to place your package in.
        </p>
      </div>

      <h2>Update manifest</h2>
      <div class="indent">
        <p>
          The metadata file holds general information about your application and stuff used in the building process.
        </p>
        <table>
          <thead>
            <tr>
              <th>Key</th>
              <th>Description</th>
              <th>Required</th>
              <th>Default</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>enabled</td>
              <td>If your package is enabled or not</td>
              <td>No</td>
              <td>true</td>
            </tr>
            <tr>
              <td>name</td>
              <td>The name of your package</td>
              <td>Yes</td>
              <td>&nbsp;</td>
            </tr>
            <tr>
              <td>description</td>
              <td>The description of your package</td>
              <td>No</td>
              <td>&nbsp;</td>
            </tr>

            <tr>
              <td>preload</td>
              <td>
                The list of resources to preload
                <pre>
"preload":    [
  {"src": "main.js", "type": "javascript"},
  {"src": "main.css", "type": "stylesheet"},
  {"src": "foo.js", "type": "javascript", combine: false} // Do not combine this script in 'dist'
],
                </pre>
              </td>
              <td>Yes</td>
              <td>&nbsp;</td>
            </tr>

            <tr>
              <td>copy</td>
              <td>
                List of files to copy into your 'dist' (useful for removing sensitive server-side stuff)
                <pre>
"dist": {
  "copy": [
    "extension.js"
  ]
},
                </pre>
              </td>
              <td>Yes</td>
              <td>&nbsp;</td>
            </tr>

            <tr>
              <td>conf</td>
              <td>
                List of config files that are applied just like src/conf. (Note: These are loaded with lowest priority)
                <pre>
"conf": [
  "mycustomconfig.json"
]
                </pre>
              </td>
              <td>Yes</td>
              <td>&nbsp;</td>
            </tr>
          </tbody>
        </table>
      </div>

      <h2>Install</h2>
      <div class="indent">
        <p>Now run this command to add it to global manifest (make it visible in OS.js)</p>
        <pre>grunt manifest config packages:default/MyName</pre>
        <p>
          If you are using "dist-dev", you don't have to run the "packages" grunt command.
        </p>
        <p>
          The extension is now installed and automatically loaded on startup!
        </p>
      </div>


      <div class="adddshere">
        <ins class="adsbygoogle"
          style="display:inline-block;width:100%;height:250px"
          data-ad-client="ca-pub-6145716264521226"
          data-ad-slot="3789905596"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      </div>


    </main>


    <footer>
      <div class="wrapper">
        <img alt="" src="/images/logo-footer.png" />
        <p>
          OS.js &copy; Anders Evenrud 2011-2016
          <br />
          Hosting by Github
        </p>
      </div>
    </footer>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-46087265-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; 
        ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>


    <script>
      ((window.gitter = {}).chat = {}).options = {
        room: 'os-js/OS.js'
      };
    </script>
    <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>


  </body>
</html>
